<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.gzmu.lpzyf.mapper.MetroLineMapper">
    <insert id="insert">
        insert into metro_line values(#{id},#{metroName},#{metroNameAll},#{lineStatus},#{city.id})
         on duplicate key update metro_name=#{metroName},metro_name_all=#{metroNameAll},line_status=#{lineStatus},city_id=#{city.id}
    </insert>
    <!--查询每个城市的地铁线路数-->
    <select id="findLineCount" resultType="Integer">
        SELECT count(*) from metro_line ml where city_id =#{city_id}
    </select>
</mapper>